#!/usr/bin/env sh
# .githooks/pre-commit
# Run the Node.js size check to prevent committing large files

command -v node >/dev/null 2>&1 || {
  echo "node is required to run pre-commit checks; skipping size check"
  exit 0
}

node ./scripts/check-large-files.js
status=$?
if [ $status -ne 0 ]; then
  echo "Pre-commit hook failed (large file detected)."
  exit $status
fi

exit 0
