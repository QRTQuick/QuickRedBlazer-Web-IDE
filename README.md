# QuickRedBlazer — Neon Web IDE (Demo)

This repository contains a compact, self-contained frontend demo of a sleek, neon-themed Web IDE. It focuses on layout and visuals and runs entirely in the browser.

Live demo: https://qrtquick.github.io/QuickRedBlazer-Web-IDE/

Files

- `index.html` — the Web IDE UI (sidebar, editor, live preview)
- `styles.css` — dark neon theme (red, purple, blue accents) and responsive layout
- `app.js` — minimal editor logic: file tree, tabs, edit, localStorage persistence, live preview iframe
- `firebase/firestore.rules` — optional Firestore rules template (kept for reference)

Quick start

1. Open the project folder in your editor (VS Code or similar).
2. Open `index.html` in your browser (double-click or use a static server / Live Server extension).

Usage notes

- The editor stores files in `localStorage` under the key `qrb_files`.
- Edit `index.html`, `styles.css`, and `script.js` (or create new files) to see updates in the preview.
- Click `Run` to refresh the live preview; edits also auto-run after a short debounce.

Detailed Features & Usage

This section explains what QuickRedBlazer can do and how to use it effectively.

- **Editor & Syntax Highlighting:** The IDE uses CodeMirror (v5) when available for syntax highlighting and editing convenience. If CodeMirror is not available, a fallback `textarea` is used.
- **File Tree & Tabs:** Create, open, and switch files using the left file tree or the file tabs above the editor. New files are created with the `New` button and persisted to `localStorage` so you can reload the page and continue working.
- **Live Preview:** Use `Run` (or the floating Run FAB on mobile) to render a combined preview of `index.html`, `styles.css`, and `script.js` in the preview pane. The preview is generated by injecting your CSS into `<head>` and JS before `</body>` so the preview approximates how the page will run when deployed.
- **Preview Snapshots & Back Navigation:** Each time you run the preview a snapshot is recorded. Use the `Back` button (←) in the preview actions to step back through previously generated preview snapshots. This is a simple in-memory snapshot history — it does not rely on the iframe navigation history.
- **Open Preview in New Tab:** The `Open` button now correctly opens the current preview even when the iframe uses `srcdoc` by creating a temporary blob URL containing the rendered HTML (the helper revokes the blob URL shortly after opening to avoid leaks).
- **Saving & Local Persistence:** Click `Save` (or the topbar `Save` button) to persist the current file set to the browser's `localStorage`. Files are automatically kept in `localStorage` after editing, but explicit Save gives a visible confirmation.
- **Publishing & GitHub Integration:**
	- **Quick PAT flow:** For quick local pushes, you can paste a GitHub Personal Access Token (PAT) via `Connect GitHub`. The demo stores the token in `localStorage` for convenience — this is insecure for production.
	- **Server OAuth (recommended):** For a secure and efficient push flow, run the helper server (`server/`) which performs OAuth and a single-commit push using the GitHub API. Instructions are below in the "Server-based OAuth & single-commit push" section.
- **PWA Support:** The app includes `manifest.json` and a registered service worker (`sw.js`) so the IDE is installable on supported platforms. Use the `Install` button when prompted, or watch for the browser install prompt. Note: service workers and PWA install require HTTPS (or `localhost`).
- **Mobile Behavior:** The layout adapts for mobile — the sidebar becomes an overlay, there's a floating Run FAB, and a compact hamburger menu exposes common actions. The editor switches to a more mobile-friendly input mode on touch devices.
- **Keyboard Shortcuts (common expectations):**
	- `Ctrl/Cmd+S`: Save (the editor does not intercept OS-level shortcuts in all browsers — behavior may vary).
	- `Ctrl/Cmd+K`: Focus the command/search input (topbar).
	- `Ctrl/Cmd+Enter`: Run preview (some browsers may block global key capture; results vary).

How to work in QuickRedBlazer (quick workflow)

1. Open `index.html` in your browser or run a simple static server from the project folder (see tips below).
2. Use the left file tree to open `index.html` or create a new file.
3. Edit files in the editor; click `Run` to update the preview. On mobile, use the FAB Run button.
4. When ready to publish, either copy git commands using the `Publish` helper or use the GitHub integration to push changes.

Local dev server tips

You can serve the project locally using any static server. Examples:

PowerShell (Python 3):

```powershell
python -m http.server 8000
```

Node (npm `http-server`):

```powershell
npx http-server -p 8000
```

Then open `http://localhost:8000` in your browser.

Server-side OAuth & push helper (recap)

- The `server/` folder contains an Express helper that performs GitHub OAuth and exposes `/api/github/push` to receive the project files and perform a single-commit push to a target repo/branch. Use this flow for production or when you don't want to keep tokens in the browser.
- Follow the `server/README_SERVER.md` and copy `.env.example` to `.env` to configure credentials.

Limitations & security

- The demo stores files and (optionally) a PAT in `localStorage`, which is not secure for multi-user environments. Prefer the server OAuth flow for shared or public deployments.
- The preview serialization is simple: CSS is injected into `<head>` and JS appended before `</body>`. Complex build steps, module bundlers, or external asset fetching are not part of this demo.
- The service worker uses a simple cache-first strategy suitable for demo use; consider more nuanced caching or cache versioning for production.

Contributing & extending

- Add language modes or switch to a richer editor like Monaco for a fuller IDE experience.
- Add remote storage (Firebase, Git LFS) for larger assets.
- Improve the push workflow with file diffs and change previews before committing.

License & credits

This project is provided under the MIT license. It was created by Quick Red Tech and is owned by Chisom Life Eke. Use, fork, and extend as you like; please keep attribution where appropriate.


Next steps (ideas)

- Add a proper code editor (CodeMirror / Monaco) for syntax highlighting and better editing.
- Wire up Firebase Authentication + Firestore if you want remote save/load and publishing.
- Add export/download (ZIP) and deploy integrations.

License: MIT (or choose your preferred license)
 
Recent changes

- Added in-editor syntax highlighting using CodeMirror (preloaded in `index.html`). The editor falls back to a plain `textarea` if CodeMirror is not available.
- Added `sitemap.xml` and `robots.txt` at project root — update the URLs in `sitemap.xml` to match your deployed domain before publishing.

Icons (SVG)

The project includes several SVG assets used for the app icon and social previews. They are in the `icons/` folder — you can preview them below or open the files directly.

- `icons/qrb-logo.svg` — primary neon `QRB` logo (512×512)

	<img src="icons/qrb-logo.svg" alt="QRB logo" width="160" />

- `icons/icon-192.svg` — smaller app icon (192×192)

	<img src="icons/icon-192.svg" alt="Icon 192" width="96" />

- `icons/icon-512.svg` — large app icon (512×512)

	<img src="icons/icon-512.svg" alt="Icon 512" width="160" />

You can reference these icons in the manifest or elsewhere in the app. If you need PNG fallbacks, I can generate those and update the manifest accordingly.

Auto-deploy with GitHub Pages

- A GitHub Actions workflow has been added at `.github/workflows/deploy.yml`. When you push to the `main` branch the workflow will publish the repository root to the `gh-pages` branch, which can be served using GitHub Pages.
- To publish from your local machine: commit and push your changes to `main`. The workflow runs automatically and deploys to `gh-pages`.
- The `Publish` button inside the IDE copies the recommended git commands to your clipboard to make pushing easy.

Notes

- The workflow uses the default `GITHUB_TOKEN` so no extra secrets are required to publish from pushes to `main`.
- After the first successful deploy, configure GitHub Pages in your repository Settings to serve the `gh-pages` branch (if GitHub hasn't already done so automatically).

GitHub linking & direct push from the IDE

- You can link a GitHub repository to the IDE and push files directly from the browser using a Personal Access Token (PAT). This is implemented as a convenience for local users and stores the token in your browser's `localStorage`.
- To link: click `Connect GitHub` in the top bar, paste a PAT with `repo` scope, and enter the `owner`, `repo` and `branch` to push to.
- To push: click `Push`. The IDE will attempt to create/update each file in the repository using the GitHub Contents API. After pushing, the GitHub Actions deploy workflow will run automatically for pushes to `main`.

Server-based OAuth & single-commit push (recommended)

- For a secure flow and efficient pushes, run the included OAuth/push helper server in the `server/` folder. It implements a server-side GitHub OAuth exchange and a `/api/github/push` endpoint that performs a single-commit push (blobs/trees/commit) to the target branch.
- Steps:
	1. Create a GitHub OAuth App and set callback URL to `http://localhost:4000/auth/github/callback` (or your server origin).
	2. Copy `server/.env.example` to `server/.env` and fill `GITHUB_CLIENT_ID`, `GITHUB_CLIENT_SECRET`, and `APP_ORIGIN`.
	3. Install & start the server (`cd server && npm install && npm start`).
	4. In the IDE, click `Connect GitHub` (this opens the OAuth flow). After authorizing, the server stores the token in your session.
	5. Click `Push` — the IDE will call the server endpoint which performs a single-commit push for all files.

Security note: storing a PAT in localStorage is insecure for production. Use the server OAuth flow for better security and do not commit secrets.